<div class="groups-container">
  <div *ngFor="let g of groups" class="group-item">
    <!-- checkbox de deleteMode -->
    <mat-checkbox
      *ngIf="deleteMode"
      class="delete-checkbox"
      [checked]="selectedIds.has(g.id_grupo)"
      (change)="onCheckboxChange(g.id_grupo, $event.checked)">
    </mat-checkbox>

    <!-- tarjeta de grupo con edici칩n inline -->
    <app-group
      [group]="g"
      [isEditing]="editingId===g.id_grupo"
      [editName]="editingName"
      (editNameChange)="editingName=$event">
    </app-group>

    <!-- icono l치piz (solo en updateMode y si no est치 editando esa tarjeta) -->
    <button
      mat-icon-button
      *ngIf="updateMode && editingId!==g.id_grupo"
      (click)="startEdit(g)">
      <mat-icon>edit</mat-icon>
    </button>

    <!-- bot칩n Listo (solo en updateMode y editando esta tarjeta) -->
    <button
      mat-button
      color="primary"
      *ngIf="updateMode && editingId===g.id_grupo"
      (click)="saveEdit(g)">
      Listo
    </button>
  </div>
</div>
